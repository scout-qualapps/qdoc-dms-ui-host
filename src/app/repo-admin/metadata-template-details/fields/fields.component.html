<div class="card">
  <div class="card-header bg-transparent">
    <div class="fw-bold p-2 ps-3">
     Fields
    </div>
  </div>
  <div class="card-body">
    <div class="table-responsive app-draggable-table">
      <table mat-table #table [dataSource]="dataSource" matSort (matSortChange)="delrolDocSortChange($event)" class="mat-table ellipsis mat-table-bg-header" cdkDropList
        [cdkDropListData]="dataSource" (cdkDropListDropped)="dropTable($event)">

        <ng-container matColumnDef="dragicon">
          <th mat-header-cell *matHeaderCellDef style="width: 60px" mat-sort-header></th>
          <td mat-cell *matCellDef="let element">
            <mat-icon cdkDragHandl class="drag-icon">drag_indicator</mat-icon>
          </td>
        </ng-container>

        <ng-container matColumnDef="fieldname">
          <th mat-header-cell *matHeaderCellDef style="width: 20%; min-width: 150px;" mat-sort-header>Field Name</th>
          <td mat-cell *matCellDef="let element">{{element.fieldname}} </td>
        </ng-container>

        <ng-container matColumnDef="datatype" >
          <th mat-header-cell *matHeaderCellDef style="width: 17%; min-width: 125px;" mat-sort-header>Data Type</th>
          <td mat-cell *matCellDef="let element"> {{element.datatype}} </td>
        </ng-container>

        <ng-container matColumnDef="mandatory">
          <th mat-header-cell *matHeaderCellDef style="width: 12%; min-width: 100px;" mat-sort-header>Mandatory</th>
          <td mat-cell *matCellDef="let element">{{element.mandatory}}</td>
        </ng-container>
        <ng-container matColumnDef="description">
          <th mat-header-cell *matHeaderCellDef>Description</th>
          <td mat-cell *matCellDef="let element">{{element.description}}</td>
        </ng-container>

        <ng-container matColumnDef="actions">
          <th class="grid-list-nav-td-th" style="width: 90px" mat-header-cell *matHeaderCellDef> </th>
          <td class="grid-list-nav-td" mat-cell *matCellDef="let element">
            <div class="justify-content-end">
              <button mat-button (click)="openNewMetadataFieldModalDialog()"  class="icon-button" matTooltip="Edit">
                <mat-icon aria-hidden="false">create</mat-icon>
              </button>
              <button mat-button class="icon-button" matTooltip="Delete">
                <mat-icon aria-hidden="false">delete</mat-icon>
              </button>
            </div>
          </td>
        </ng-container>
        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;" cdkDrag [cdkDragData]="row"></tr>
      </table>
    </div>
    <div class="row mt-3 align-items-center d-flex">
      <div class="col-12 col-md-6">
        Move the fields to change order of display
      </div>
      <div class="col-12 col-md-6 mt-3 mt-md-0 d-md-flex justify-content-md-end">
        <button mat-button (click)="openNewMetadataFieldModalDialog()"  class="primary-button">Create New Field</button>
      </div>
    </div>
  
  </div>
</div>
